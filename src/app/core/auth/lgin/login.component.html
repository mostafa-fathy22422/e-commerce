<section class="container min-h-screen ">
  <div class="flex min-h-full py-16 flex-col justify-center grow z-10">
    <div class="sm:mx-auto sm:w-full sm:max-w-md">
      <h2 class="text-center text-2xl/9 font-bold tracking-tight text-gray-900">
        <span class="dark:text-white">{{ 'login.LOGIN NOW'| translate }}</span>
      </h2>
    </div>

    <div class="mt-6 sm:mx-auto sm:w-full sm:max-w-[550px]">
      <div
        class="bg-white dark:bg-gray-800/50 px-6 py-8 shadow-lg sm:rounded-lg sm:px-12 backdrop-blur-sm border border-gray-100 dark:border-gray-700/50">
        <!--        !ngSubmit-->
        <form
          (ngSubmit)="handelSubmit()"
          [formGroup]="loginForm"
          class="space-y-6"
        >
          <!--          !email-->
          <div class="relative mb-11">
            <label
              class="absolute -top-8 start-2 translate-y-1/2 inline-block rounded-lg bg-white dark:bg-gray-800/50 px-1 text-sm font-medium text-gray-900 dark:text-gray-300 pointer-events-none capitalize"
              for="email"
            >{{ 'login.Email'| translate }} :</label
            >
            <div class="mt-2 grid grid-cols-1">
              <input
                [class]="
                  emailController?.errors && emailController?.touched
                    ? 'text-red-900 dark:text-red-400 outline-1 -outline-offset-1 outline-red-300 dark:outline-red-500 placeholder:text-red-300 dark:placeholder:text-red-400/70 focus:outline-red-600 dark:focus:outline-red-500'
                    : 'text-gray-900 dark:text-gray-200 outline-1 -outline-offset-1 outline-gray-300 dark:outline-gray-600 placeholder:text-gray-400 dark:placeholder:text-gray-400 focus:outline-main-500'
                "
                aria-describedby="email-error"
                aria-invalid="true"
                class="col-start-1 row-start-1 block w-full rounded-md bg-white dark:bg-gray-700 py-1.5 pe-10 ps-3 text-base focus:outline-2 focus:-outline-offset-2 sm:pe-9 sm:text-sm/6"
                formControlName="email"
                id="email"
                name="email"
                type="email"
                value=""
              />

              @if (emailController?.errors && emailController?.touched) {
                <svg
                  class="pointer-events-none col-start-1 row-start-1 me-3 size-5 self-center justify-self-end text-red-500 sm:size-4"
                  viewBox="0 0 16 16"
                  fill="currentColor"
                  aria-hidden="true"
                  data-slot="icon"
                >
                  <path
                    fill-rule="evenodd"
                    d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14ZM8 4a.75.75 0 0 1 .75.75v3a.75.75 0 0 1-1.5 0v-3A.75.75 0 0 1 8 4Zm0 8a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"
                    clip-rule="evenodd"
                  />
                </svg>
                @if (emailController
                  ? emailController.getError("required")
                  : undefined) {
                  <p class="text-sm absolute -bottom-[18px] start-2 text-red-600 dark:text-red-500"
                     id="email-error"
                  >
                    {{ 'common.input is required'| translate }}
                  </p>
                } @else if (emailController
                  ? emailController.getError("email")
                  : undefined) {
                  <p class="text-sm absolute -bottom-[18px] start-2 text-red-600 dark:text-red-500"
                     id="email-error"
                  >
                    {{ 'common.Not a valid email address.'| translate }}
                  </p>
                }
              }
            </div>
          </div>

          <!--          !Password-->
          <div class="relative mb-11">
            <label
              class="absolute -top-8 start-2 translate-y-1/2 inline-block rounded-lg bg-white dark:bg-gray-800/50 px-1 text-sm font-medium text-gray-900 dark:text-gray-300 pointer-events-none capitalize"
              for="Password"
            >{{ 'login.Password'| translate }} :</label
            >
            <div class="text-sm absolute -top-8 end-2 translate-y-1/2 inline-block">
              <a class="font-semibold text-main-600 hover:text-main-500" routerLink="/forget-password">
                {{ "login.Forgot password?"| translate }}</a>
            </div>
            <div class="mt-2 grid grid-cols-1">
              <input
                [class]="
                  passwordController?.errors && passwordController?.touched
                    ? 'text-red-900 dark:text-red-400 outline-1 -outline-offset-1 outline-red-300 dark:outline-red-500 placeholder:text-red-300 dark:placeholder:text-red-400/70 focus:outline-red-600 dark:focus:outline-red-500'
                    : 'text-gray-900 dark:text-gray-200 outline-1 -outline-offset-1 outline-gray-300 dark:outline-gray-600 placeholder:text-gray-400 dark:placeholder:text-gray-400 focus:outline-main-500'
                "
                aria-describedby="Password-error"
                aria-invalid="true"
                class="col-start-1 row-start-1 block w-full rounded-md bg-white dark:bg-gray-700 py-1.5 pe-10 ps-3 text-base focus:outline-2 focus:-outline-offset-2 sm:pe-9 sm:text-sm/6"
                formControlName="password"
                id="Password"
                name="Password"
                type="password"
                value=""
              />

              @if (passwordController?.errors && passwordController?.touched) {
                <svg
                  class="pointer-events-none col-start-1 row-start-1 me-3 size-5 self-center justify-self-end text-red-500 sm:size-4"
                  viewBox="0 0 16 16"
                  fill="currentColor"
                  aria-hidden="true"
                  data-slot="icon"
                >
                  <path
                    fill-rule="evenodd"
                    d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14ZM8 4a.75.75 0 0 1 .75.75v3a.75.75 0 0 1-1.5 0v-3A.75.75 0 0 1 8 4Zm0 8a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"
                    clip-rule="evenodd"
                  />
                </svg>
                @if (passwordController
                  ? passwordController.getError("required")
                  : undefined) {
                  <p class="text-sm absolute -bottom-[18px] start-2 text-red-600 dark:text-red-500"
                     id="Password-error"
                  >
                    {{ 'common.input is required'| translate }}
                  </p>
                } @else if (passwordController
                  ? passwordController.getError("pattern")
                  : undefined) {
                  <p class="text-sm absolute -bottom-[18px] start-2 text-red-600 dark:text-red-500"
                     id="Password-error"
                  >
                    {{ 'common.mast start with'| translate }}
                  </p>
                }
              }
            </div>
          </div>

          <div>
            <button
              class="flex w-full justify-center rounded-md bg-green-600 px-3 py-1.5 text-sm/6 font-semibold text-white shadow-xs hover:bg-green-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-600"
              type="submit"
            >
              @if (isLoading| async) {
                {{ 'common.Loading'| translate }}
              } @else {
                {{ 'login.Login'| translate }}
              }
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</section>
